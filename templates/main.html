
{% extends "base.html" %}
{% load staticfiles %}



 {% block styling %}
      <!-- <link rel="stylesheet" href="{% static 'css/jquery-ui.css' %}"> -->
      <link rel="stylesheet" href="{% static 'css/custom.css' %}">
      <link rel="stylesheet" href="{% static 'css/jquery.dataTables.min.css' %}">
      <link rel="stylesheet" href="{% static 'css/dataTables.responsive.css' %}">
      
      <!-- <link rel="stylesheet" href="{% static 'css/dataTables.jqueryui.min.css' %}"> -->

      <link rel="stylesheet" href="{% static 'css/datetimepicker.css' %}">
      <link rel="stylesheet" href="{% static 'css/jquery-uii.css' %}">
      <link rel="stylesheet" href="{% static 'css/lightbox.css' %}">
      <link rel="stylesheet" href="{% static 'css/custom.css' %}">
        {% endblock styling %}

{% block content %}
{% if msg %}


<div class="container">

   <div class="alert alert-{{alerttype}} fade in">
  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>{{msg}}</strong> 
</div>
</div>

{% endif %}
{% comment %} 

    <ul>
    {% for field, errors in form.errors.items %}
    {% for error in errors %}
        <li>{{field}} --> {{error}}</li>
        
     {% endfor %} 
     {% endfor %}   
    </ul>
{% endcomment %} 
    {% if user.is_authenticated %}

{% block extras%}
{% endblock extras%}


    {% block navtab%}
    <div class="container">
        <ul class="nav nav-tabs" role="tablist">
            <li class="active"><a href="#reg" style="font-size: 1.5em" data-toggle="tab"><span class="glyphicon glyphicon-plus-sign"></span> Registration</a></li>
            <li><a href="#search" style="font-size: 1.5em" data-toggle="tab"><span class="glyphicon glyphicon-search"></span> Search</a></li>
            {% if user.is_superuser %}
            <li><a href="#admin"  style="font-size: 1.5em"  data-toggle="tab"><span class="glyphicon glyphicon-cog"></span> Admin</a></li>
            {% endif %}
        </ul>

        <div class="tab-content" style="margin-bottom: 2%">
            <div class="tab-pane fade in active" id="reg">
            <br/>
                {% include "reg.html" %}
            </div>
            <div class="tab-pane fade" id="search"><br/>
            <div id="tabs">
        <ul  class="navs" role="tablist">
            <li class="Fresh"><a href="#fresh" style="font-size: 1.5em" data-toggle="tab"><span class="glyphicon glyphicon-plus-sign"></span>Fresh</a></li>
            <li><a href="#married" style="font-size: 1.5em" data-toggle="tab"><span class="glyphicon glyphicon-search"></span> Married</a></li>
            <li><a href="#bin"  style="font-size: 1.5em"  data-toggle="tab"><span class="glyphicon glyphicon-cog"></span> Recycle bin</a></li>
            </ul>

        
        
            <div  id="fresh">
            <br/>
            <br/>
            <br/>
                <table id="mytable" class="display cell-border table-responsive " border="0" cellpadding="-5" cellspacing="0" width="100%">
                    

                                <thead>
            <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Caste</th>
                <th>D.O.B</th>
                <th>Qualification</th>
                <th>native district</th>
                <th>current district</th>
                <th>action</th>
            </tr>
        </thead>
 
        <tfoot>
            <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Caste</th>
                <th>D.O.B</th>
                <th>Qualification</th>
                <th>native district</th>
                <th>current district</th>
                <th>action</th>
            </tr>
        </tfoot>
                </table> 
            </div>
            <div  id="married"><br/><br/>
                  <table id="mytable" class="display cell-border table-responsive " border="0" cellpadding="-5" cellspacing="0" width="100%">
                    

                                <thead>
            <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Caste</th>
                <th>D.O.B</th>
                <th>Qualification</th>
                <th>native district</th>
                <th>current district</th>
                <th>action</th>
            </tr>
        </thead>
 
        <tfoot>
            <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Caste</th>
                <th>D.O.B</th>
                <th>Qualification</th>
                <th>native district</th>
                <th>current district</th>
                <th>action</th>
            </tr>
        </tfoot>
                </table> 
                
            </div> 
            <div id="bin"><br/><br/>
                  <table id="mytable" class="display cell-border table-responsive " border="0" cellpadding="-5" cellspacing="0" width="100%">
                    

                                <thead>
            <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Caste</th>
                <th>D.O.B</th>
                <th>Qualification</th>
                <th>native district</th>
                <th>current district</th>
                <th>action</th>
            </tr>
        </thead>
 
        <tfoot>
            <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Caste</th>
                <th>D.O.B</th>
                <th>Qualification</th>
                <th>native district</th>
                <th>current district</th>
                <th>action</th>
            </tr>
        </tfoot>
                </table> 
                
            </div> 
            </div>
                </div>

            {% if user.is_superuser %}
            <div class="tab-pane fade" id="admin"><br/>
            <h1 style="
    /* float: left; */
    font-size: 27px;
    font-style: b;
    color: #337AB7;    text-decoration: underline;
    font-weight: bold;
">Create Franchisee Account </h1>
            <iframe src="/create_user" scrolling="no" style="border-style: none;height: 580px;overflow-y: hidden;"></iframe>
            
            </div>
            {% endif %} 
        </div>

    </div>
{% endblock navtab %}
         
        {% else %} 
    <div class="jumbotron">
        <p>Welcome to the Saptapadi Matrimonial.</p>
        <p style="margin-top: 1em">
        
           <a  href="{% url 'matri_login' %}">Click here to login</a>
        
        </p>
    </div>
    {% endif %} 
     
{% endblock content %}

{% block javascript %}
<script type="text/javascript">
   $(function(){
    $('#mytable tfoot th').each( function () {
        var title = $('#mytable thead th').eq( $(this).index() ).text();
        if (title!="Image" && title!="action")
        $(this).html( '<input type="searches"  placeholder="'+title+'" />' );
    } );

   var profiletable = $('#mytable').DataTable( {
        "ajax": "{%  url 'order_list_json' %}",
        "columnDefs": [
            {
                // The `data` parameter refers to the data for the cell (defined by the
                // `data` option, which defaults to the column being worked with, in
                // this case `data: 0`.
                "render": function ( data, type, row ) {
                    return '<a href="'+data+'"  data-lightbox="profilepic" ><img src="'+data+'" class="img-thumbnail img-responsive" style="width:60px;height:75px;" /></a>';
                },
                "targets": 0 // column index 
             },
             {
                // The `data` parameter refers to the data for the cell (defined by the
                // `data` option, which defaults to the column being worked with, in
                // this case `data: 0`.
                "render": function ( data, type, row ) {
                    return '<div class="btn-group"><a href="/matriaspirant/edit/'+data+'" target="_blank"  class="btn btn-danger col-xs-6"><span class="glyphicon glyphicon-edit"></span> Edit</a><a href="/matriaspirant/view/'+data+'" target="_blank" class="btn btn-primary col-xs-6"><span class="glyphicon glyphicon-eye-open"></span> View</a></div>';
                },
                "targets": 4 // column index 
             }


        ]
    } );

   profiletable.columns().every( function () {
        var that = this;
 
        $( 'input', this.footer() ).on( 'keyup change', function () {
            if ( that.search() !== this.value ) {
                that
                    .search( this.value )
                    .draw();
            }
        } );
    } );

  });
   


  $(function() {
    $( "#tabs" ).tabs();
  });
 
</script>
<script src="{% static 'js/vendor/datetimepicker.js' %}"></script>
<script src="{% static 'js/vendor/jquery-ui.js' %}"></script>
<script src="{% static 'js/vendor/lightbox.js' %}"></script>
<script src="{% static 'js/vendor/dataTables.responsive.js' %}"></script>

    {% endblock javascript %}